<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Import Calibrated Deployment Data — import_calibrated_data • BuzzardsBay</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Import Calibrated Deployment Data — import_calibrated_data"><meta name="description" content="This function imports calibrated data for a single deployment from its
Calibrated sub directory.
import_calibrated_data() calls distinct functions (import types)
depending on the  devices associated with the deployment in placements.csv
The called functions are internal to the package
and have the naming structure import_calibrated_data_[x]
where [x] is an integer."><meta property="og:description" content="This function imports calibrated data for a single deployment from its
Calibrated sub directory.
import_calibrated_data() calls distinct functions (import types)
depending on the  devices associated with the deployment in placements.csv
The called functions are internal to the package
and have the naming structure import_calibrated_data_[x]
where [x] is an integer."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">BuzzardsBay</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0.9030</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/UMassCDS/BuzzardsBay/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Import Calibrated Deployment Data</h1>
      <small class="dont-index">Source: <a href="https://github.com/UMassCDS/BuzzardsBay/blob/main/R/import_calibrated_data.R" class="external-link"><code>R/import_calibrated_data.R</code></a></small>
      <div class="d-none name"><code>import_calibrated_data.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function imports calibrated data for a single deployment from its
<code>Calibrated</code> sub directory.
<code>import_calibrated_data()</code> calls distinct functions (import types)
depending on the  devices associated with the deployment in <code>placements.csv</code>
The called functions are internal to the package
and have the naming structure <code>import_calibrated_data_[x]</code>
where <code>[x]</code> is an integer.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">import_calibrated_data</span><span class="op">(</span><span class="va">paths</span>, <span class="va">devices</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-paths">paths<a class="anchor" aria-label="anchor" href="#arg-paths"></a></dt>
<dd><p>Path list as returned from <code><a href="lookup_paths.html">lookup_paths()</a></code>.  Only the
<code>import_types</code> component is used here.</p></dd>


<dt id="arg-devices">devices<a class="anchor" aria-label="anchor" href="#arg-devices"></a></dt>
<dd><p>Device information in a list as returned from
<code><a href="lookup_devices.html">lookup_devices()</a></code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A list with two items the first <code>d</code> is a data frame with the
calibrated data containing the following columns.</p>
<dl><dt>Date_Time</dt>
<dd><p>The date and time of the observation as a string in the
format <code>yyyy-mm-dd hh:mm:ss</code></p></dd>

<dt>Raw_DO</dt>
<dd><p>Uncalibrated (measured) Dissolved Oxygen in mg/L</p></dd>

<dt>Temp_DOLog</dt>
<dd><p>Temperature in Deg. Celsius as recorded by the DO logger</p></dd>

<dt>DO</dt>
<dd><p>The calibrated (salinity adjusted) Dissolved Oxygen in mg/L</p></dd>

<dt>DO_Pct_Sat</dt>
<dd><p>Dissolved oxygen percent saturation (calibrated)</p></dd>

<dt>Salinity_DOLog</dt>
<dd><p>Salinity as recorded by the DO logger in ppt
(parts per thousand), this is equivalent to PSU (Practical Salinity Units)</p></dd>

<dt>High_Range</dt>
<dd><p>High Range Conductivity in microsiemens per cm. Note newer
loggers may call this column "Electrical Conductivity" which is the same
thing, and even for those loggers it will be called High_Range throughout
the QC workflow.</p></dd>

<dt>Temp_CondLog</dt>
<dd><p>Temperature in Deg. Celsius as recorded by the
conductivity logger</p></dd>

<dt>Spec_Cond</dt>
<dd><p>The specific conductivity (new loggers) or specific
conductance (older loggers) in microsiemens per cm.</p></dd>

<dt>Salinity</dt>
<dd><p>Salinity as recorded by the Conductivity logger in ppt
(parts per thousand), equivalent to PSU (Practical Salinity Units) which
is the units assigned by the newer loggers</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="import-types">Import types<a class="anchor" aria-label="anchor" href="#import-types"></a></h2>

<div class="section">
<h3 id="import-type-csv">Import Type 0 - CSV<a class="anchor" aria-label="anchor" href="#import-type-csv"></a></h3>


<p>This simple CSV import is a fallback in case updates to HOBOware or
the loggers themselves break the targeted imports.
It expects a CSV file and a YAML (<code>.yml</code>) file.</p>
<p>To use this import:</p><ol><li><p>Make sure in <code>import_types.csv</code> there's a default line:
<code>default,0</code> This means that if an import type isn't identified for a model
listed in a placement that the CSV import will be used.</p></li>
<li><p>In <code>placments.csv</code> if you want to use the CSV import use a model name
that is NOT in <code>import_types.csv</code> so the default CSV import is used.
I recommend using the model name with <code>-CSV</code> appended; e.g.
instead of <code>MX801</code> use <code>MX801-CSV</code>.</p></li>
<li><p>In the deployment's <code>Calibrated</code> directory create an appropriate CSV and
YAML file as described below.</p></li>
</ol><div class="section">
<h4 id="csv-file">CSV file<a class="anchor" aria-label="anchor" href="#csv-file"></a></h4>


<p>In the CSV file the columns are resolved by name not order and the import
will attempt to resolve several different column naming conventions. Any
of the following should work:</p><ul><li><p>The canonical column names used by this package:  "Date_Time", "Raw_DO",
"Temp_DOLog", "DO", "DO_Pct_Sat", "High_Range", "Temp_CondLog",
"Spec_Cond", "Salinity", "Depth", "Latitude", and "Longitude". The last
three are optional, the rest are required.</p></li>
<li><p>Columns names from the MX801 logger. For example by saving the first sheet
as a CSV.</p></li>
<li><p>Column names from the U24 and U26 loggers. However, when combining data
from these two loggers into a single CSV the two temperature columns will
have to be manually renamed to "Temp_CondLog", and "Temp_DOLog"
as they are otherwise indistinguishable.</p></li>
</ul><p>If using other column names please verify carefully</p>
</div>

<div class="section">
<h4 id="yaml-file">YAML file<a class="anchor" aria-label="anchor" href="#yaml-file"></a></h4>


<p>In the YAML file the following items are required:</p><ul><li><p><strong>calibration_start:</strong> The date and time of the start of the deployment.
For field calibrated sensors (U24, U26) this is also the calibration time.
For factory calibrated sensors (MX801) this is NOT the calibration time.</p></li>
<li><p><strong>calibration_end:</strong> As in the above, the end of the deployment and/or
calibrated window.</p></li>
<li><p><strong>timezone:</strong> The timezone as reported by the logger and/or calibration
software.
The output from HOBOware uses a GMT offset like "GMT-04:00",
which is not a broadly supported timezone but is accepted here.
The MX801 uses a timezone code "EST" which is also accepted here.</p></li>
<li><p><strong>do_device:</strong> Information on the DO sensor or logger with items:</p><ul><li><p><strong>product:</strong> The dissolved oxygen sensor e.g.
"HOBO U26-001 Dissolved Oxygen", "U26-01", or "MX801".</p></li>
</ul></li>
<li><p><strong>serial_number:</strong> The device serial number.</p></li>
<li><p><strong>cond_device:</strong> List with information on the conductivity sensor with
items:</p><ul><li><p><strong>product:</strong> The conductivity sensor e.g. "HOBO U24-002 Conductivity"</p></li>
<li><p><strong>serial_number:</strong> Conductivity sensor serial number
Additional items that appear in the
<a href="https://docs.google.com/document/d/1GKw3eq9ALigEcX_AWl4vnlejSzsTiIVHzy6LoKCR1jw/edit?tab=t.0" class="external-link">metadata documentation</a>
are permitted and will be retained. Items that do not appear in that document
will be ignored.</p></li>
</ul></li>
</ul></div>


</div>

<div class="section">
<h3 id="import-type-u-u-">Import Type 1 - U24, U26<a class="anchor" aria-label="anchor" href="#import-type-u-u-"></a></h3>


<p>HOBOware derived from U24 and U26 loggers.
Import type 1 expects to find two CSV files and two <code>details.txt</code>
files in the calibration directory. The Dissolved Oxygen files should have
<code>"Do_"</code> somewhere in the names while the Conductivity files should have
either <code>"Cond_"</code> or <code>"Sal_</code> in the names.</p>
</div>

<div class="section">
<h3 id="import-type-mx-">Import Type 2 - MX801<a class="anchor" aria-label="anchor" href="#import-type-mx-"></a></h3>


<p>This is the import type for the MX801 logger, it expects a single <code>.xlxs</code>
file  with combined data from both loggers and on the first sheet
and the details (metadata) on the third sheet.
Note there should still be two lines for each placement  in <code>placements.csv</code>
one each for <code>"DO"</code> and <code>"Cond"</code> both of which should indicate "MX801" as the
model and have the same Serial Number.</p>
</div>

    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Ethan Plunkett, Bradley Compton.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

